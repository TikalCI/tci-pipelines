@Library ("tci-library") _

import tci.multiJob.phase
import tci.multiJob.stepsBlock

pipeline {
    agent { label 'tci-jnlp-node' }
    options {
        timestamps()
        buildDiscarder(logRotator(numToKeepStr: '30'))
    }
    stages {
        stage("test") {
            steps {
                script {
                    echo "before phase constructor"
                    def testPhase = new phase(this)
                    echo "before phase run"
                    phase.run()
                    echo "after phase run"
                }
            }
        }
    }
}
